{% extends 'base.html' %}

{% block title %}Advertisements | Tip Top{% endblock %}

{% block page_title %}
<h1><i class="fas fa-ad text-primary"></i> Advertisements</h1>
<p>Watch ads to earn coins</p>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            {% if ads %}
                <!-- First Row: 5 ads -->
                <div class="row mb-4">
                    {% for ad in ads|slice:":5" %}
                    <div class="col-md-2 col-lg-2 mb-3">
                        <div class="card h-100 shadow-sm">
                            {% if ad.image %}
                                <img src="{{ ad.image.url }}" class="card-img-top" alt="{{ ad.title }}" style="height: 150px; object-fit: cover;">
                            {% else %}
                                <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 150px;">
                                    <i class="fas fa-image fa-2x text-muted"></i>
                                </div>
                            {% endif %}
                            <div class="card-body p-2">
                                <h6 class="card-title small">{{ ad.title|truncatechars:20 }}</h6>
                                <p class="card-text text-muted small">Click to view</p>
                                <a href="{{ ad.link }}" class="btn btn-primary btn-sm" target="_blank" rel="noopener noreferrer">
                                    <i class="fas fa-external-link-alt"></i> View
                                </a>
                            </div>
                            <div class="card-footer text-muted p-2">
                                <small>{{ ad.created_at|date:"M d" }}</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Second Row: 5 ads -->
                <div class="row">
                    {% for ad in ads|slice:"5:" %}
                    <div class="col-md-2 col-lg-2 mb-3">
                        <div class="card h-100 shadow-sm">
                            {% if ad.image %}
                                <img src="{{ ad.image.url }}" class="card-img-top" alt="{{ ad.title }}" style="height: 150px; object-fit: cover;">
                            {% else %}
                                <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 150px;">
                                    <i class="fas fa-image fa-2x text-muted"></i>
                                </div>
                            {% endif %}
                            <div class="card-body p-2">
                                <h6 class="card-title small">{{ ad.title|truncatechars:20 }}</h6>
                                <p class="card-text text-muted small">Click to view</p>
                                <a href="{{ ad.link }}" class="btn btn-primary btn-sm" target="_blank" rel="noopener noreferrer">
                                    <i class="fas fa-external-link-alt"></i> View
                                </a>
                            </div>
                            <div class="card-footer text-muted p-2">
                                <small>{{ ad.created_at|date:"M d" }}</small>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-center py-5">
                    <i class="fas fa-ad fa-5x text-muted mb-3"></i>
                    <h3 class="text-muted">No advertisements available</h3>
                    <p class="text-muted">Check back later for new opportunities!</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .container {
        margin: 0;
        padding: 0;
        max-width: none;
    }
    
    .card {
        background: var(--card-bg);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: var(--text-color);
        transition: transform 0.2s ease-in-out;
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }
    
    .card-title {
        color: var(--text-color);
        font-size: 0.9rem;
        line-height: 1.2;
    }
    
    .card-text {
        color: var(--text-color);
        opacity: 0.7;
        font-size: 0.8rem;
    }
    
    .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--accent));
        border: none;
        color: white;
        font-size: 0.8rem;
        padding: 0.25rem 0.5rem;
    }
    
    .btn-primary:hover {
        background: linear-gradient(135deg, var(--accent), var(--primary));
        transform: translateY(-1px);
    }
    
    .text-muted {
        color: var(--text-color) !important;
        opacity: 0.6;
    }
    
    .card-img-top {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Responsive adjustments for smaller screens */
    @media (max-width: 768px) {
        .col-md-2 {
            flex: 0 0 50%;
            max-width: 50%;
        }
    }
    
    @media (max-width: 576px) {
        .col-md-2 {
            flex: 0 0 100%;
            max-width: 100%;
        }
    }
</style>
{% endblock %}
